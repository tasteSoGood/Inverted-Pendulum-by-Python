# 说明

使用`Python`实现一个倒立摆系统

## 第一版：实现一个单摆

单摆的旋转可以采用复数表述，首先，等速的圆周运动可以表述为迭代公式

$$
z' = z e^{ci}
$$

其中，c是一个常数，更一般的，旋转速度如果按照函数$f(t)$变化，则可以表述为

$$
z' = z e^{f(t)i}
$$

单摆系统运行的过程中，要不断受到竖直向下的重力影响。将这个力分解为切向力，就可以得出此刻摆球的加速度。这一切的关键就是得到当前时刻相对摆球初始位置的偏离角度，由上面的第一个式子可以得到

$$
z' = z e^{\theta i}
\Rightarrow \theta = -i(\ln z' - \ln z)
$$

由上面得到的$\theta$可以得到此时摆球位置的切向加速度：

$$
a = \frac{g\cos(\frac{\pi}{2} - \theta)}{\text{mass}}
$$

其中的mass指的是摆球的质量。由于程序是一个离散时间，设置一个最小间隔$\Delta t$，那么，下一时刻的角加速度是：

$$
\omega' = \frac{\omega_0 l + a\Delta t}{l}
$$

$l$指摆杆的长度

## 第二版：加入鼠标监听

`matplotlib`对外部事件的监听还是比较简单的，只要在`Axes`对象上进行一次初始化，然后再定义一个动作函数就可以：

```python
def mouse_motion(event):
    # 该自定义函数的要求是必须传入一个事件参数（从这一点可以知道，这个事件监听是通过回调函数实现的）
    pass
fig.canvas.mpl_connect('motion_notify_event', mouse_motion)
```

## 第三版：改变文件结构

为了实现倒立摆，有必要从受力、物理实体等方面做一个通用的物理模拟系统，为此建立一个physics包。